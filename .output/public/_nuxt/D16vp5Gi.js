import{_}from"./De_TeOAR.js";import{u as g}from"./BnkZGG2X.js";import{q as h}from"./CnQk55jN.js";import{j as f,k as x,l as v,e as a,c as p,o as c,h as b,a as k,w,n as A,t as m,u as d,F as Y}from"./djsuzeVp.js";import"./D86PwR-t.js";import"./wSbNHcIL.js";const B={class:"not-prose font-mono"},S={__name:"BlogPosts",props:{limit:{type:Number,default:null}},async setup(y){let o,l;const n=y,{data:i}=([o,l]=f(()=>g("blog-list",()=>{const e=h("/blog").where({_path:{$ne:"/blog"}}).only(["_path","title","publishedAt"]).sort({publishedAt:-1});return n.limit&&e.limit(n.limit),e.find()})),o=await o,l(),o),u=x(()=>{if(!i.value)return[];const e=[];let s=null;for(const r of i.value){const t=new Date(r.publishedAt).getFullYear();r.displayYear=t!==s,r.year=t,e.push(r),s=t}return e});return(e,s)=>{const r=_;return v(e.$slots,"default",{posts:d(u)},()=>[a("section",B,[s[0]||(s[0]=a("div",{class:"column text-gray-400 text-sm"},[a("div",null,"Date"),a("div",null,"Title")],-1)),a("ul",null,[(c(!0),p(Y,null,b(d(u),t=>(c(),p("li",{key:t._path},[k(r,{to:t._path,class:"column group hover:bg-gray-100 dark:hover:bg-gray-800"},{default:w(()=>[a("div",{class:A({"text-white group-hover:text-gray-100 dark:text-gray-900 dark:group-hover:text-gray-800":!t.displayYear,"text-gray-400 dark:text-gray-500":t.displayYear})},m(t.year),3),a("div",null,m(t.title),1)]),_:2},1032,["to"])]))),128))])])])}}};export{S as default};
